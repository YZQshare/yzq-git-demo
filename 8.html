<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>事件</title>
</head>
<style>
  * {
    margin: 0;
    padding: 0
  }

  html,
  body {
    width: 100%;
    height: 100%;
  }

  .wrapper div {
    width: 100px;
    height: 100px;
    background: red;
  }
</style>

<body>
  <div class="wrapper">
    <div class="item1"></div>
    <div class="item2"></div>
    <div class="item3"></div>
    <div class="item4"></div>
  </div>
</body>
<script>
  // 浏览器显示窗口大小：
  console.log(document.documentElement.clientWidth) // 375
  console.log(document.documentElement.clientHeight) // 667

  console.log(window.innerWidth, window.innerHeight) // 375 667
  let wrapper = document.getElementsByClassName('wrapper')[0];
  let flag = false;

  console.log(document.getElementsByClassName('item1')[0].parentNode) // 获取父元素
  console.log(document.getElementsByClassName('wrapper')[0].children) // 只返html


  document.onscroll = function (e) {
    if (!flag) {
      console.log((document.documentElement.clientHeight) + (document.documentElement.scrollTop))
      console.log(wrapper.clientHeight)
      if ((document.documentElement.clientHeight) + (document.documentElement.scrollTop) + 20 >= wrapper.clientHeight) {
        flag = true;
        console.log('触发上拉加载');
        creatELemnt();
      }
    }
  }

  function creatELemnt() {
    let div = document.createElement('div');
    div.innerText = '最新'
    div.style.textAlign = 'center'
    wrapper.appendChild(div)
    flag = false;
  }


  // dom 操作
</script>

</html>